# 程序的编译和链接

对于 C/C++ 来说，源文件到可执行程序之间有一个中间文件，这个中间文件因操作系统而异，Windows 下是 .obj, Unix 下是 .o，即 Object File

从源码到中间文件，这个过程叫编译，从中间文件到可执行程序过程叫链接

## 编译

C/C++ 的编译是由编译器来完成的。

C/C++ 编译器会在编译时关注语言语法的正确性，变量与函数的声明的正确性，即告诉编译对应的头文件所在位置。

如果函数或者变量未声明，编译器会给出一个警告，但是还是会生成目标文件

只要语法正确，那么编译器就能编译出中间目标文件，每一个源文件对应一个中间目标文件。

如果

## 链接

链接器主要的工作就是链接函数和全局变量。

一般使用中间目标文件来链接应用程序，链接器不管源文件，只关注函数所在的中间目标文件。

在链接程序时，链接器会在所有的 Object File 中找函数的实现，找不到就会报链接错误。VC 下错误码一般是 Link 2001。

由于源文件太多，编译生成的中间目标文件太多，而在链接时需要明显地指出中间目标文件名，这对编译不太友好，所以采用了给中间目标文件打个包地方式。在个包在 Windows 叫库文件（Library File），也即是 .lib 文件，而在 Unix 下，就是 Archive File，也就是 .a 文件。

