# 命令出错

每当命令执行完毕后，make 会检查每个命令的返回码，如果命令返回成功，那么 make 就会执行下一条命令，当规则中的所有命令成功返回后，这个规则算是成功完成了。

如果一个规则中的某个命令出错了（命令退出码非零），那么 make 就会终止执行当前规则，这将有可能终止所有规则的执行。

但是命令返回值出现错误，并不代表命令出错。

比如我们要使用 mkdir 创建一个目录，如果目录不存在，那么直接创建成功就结束了。如果目录存在，那么这个命令就会执行失败。但是我们使用 mkdir 就是为了创建一个目录，现在这个目录已经存在了，那么表示我们的目的是成功达到了，所以在这种情况下，我们希望 make 不会因为 mkdir 出错而终止 make 的执行。

为了达到这个目的，忽略命令的出错，我们可以在 Makefile 的命令前加一个 - 号，（Tab 键之后），标记为不管命令返回值不管是否为零，都认为成功。

如
```
clean:
    -rm -f *.o
```

还有一种方法是全局设置，给 make 加上 -i 或者 --ignore-erros 参数，那么 make 中所有命令都会忽略错误。
而如果一个规则是以 .IGNORE 作为目标，那么这个规则中的所有命令都将会忽略错误。

与之相反的参数是 -k 或者是 --keep-going，该参数的意思是某规则中的命令出错了，那么终止该规则的执行，而继续执行其他规则。